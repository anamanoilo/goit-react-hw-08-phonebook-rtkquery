"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[494],{6615:function(e,a,t){t.d(a,{Z:function(){return p}});var n=t(8152),s=t(2791),r=t(5048),o=t(5334),u=t(8e3),i=t(7459),l=t(577),c="AuthForm_form__N+Fyz",f="AuthForm_label__-RWhN",m="AuthForm_input__dB7h2",d=t(184),p=function(e){var a=e.type,t=(0,s.useState)(""),p=(0,n.Z)(t,2),h=p[0],g=p[1],v=(0,s.useState)(""),_=(0,n.Z)(v,2),w=_[0],b=_[1],x=(0,s.useState)(""),y=(0,n.Z)(x,2),N=y[0],Z=y[1],j=(0,o.OQ)(),C=(0,n.Z)(j,2),S=C[0],k=C[1],A=k.data,E=k.error,D=k.isSuccess,F=(0,o.DW)(),q=(0,n.Z)(F,2),P=q[0],I=q[1],L=I.data,R=I.error,W=I.isSuccess,z=(0,r.I0)();(0,s.useEffect)((function(){null!==A&&void 0!==A&&A.user&&z(u.Z.actions.saveLoginData(A))}),[A,z]),(0,s.useEffect)((function(){null!==L&&void 0!==L&&L.user&&z(u.Z.actions.saveRegisterData(L))}),[L,z]),(0,s.useEffect)((function(){500===(null===R||void 0===R?void 0:R.status)&&l.Am.error("Something went wrong. Please try again."),(E||400===(null===R||void 0===R?void 0:R.status))&&l.Am.error("Something went wrong. Please check your data and try again.")}),[E,R]),(0,s.useEffect)((function(){(D||W)&&O()}),[D,W]);var B=function(e){var a=e.target,t=a.value;switch(a.name){case"name":return void g(t);case"email":return void b(t);case"password":return void Z(t);default:return}},O=function(){g(""),b(""),Z("")},Q=function(e,a){e.preventDefault(),"register"===a&&P({name:h,email:w,password:N}),"login"===a&&S({email:w,password:N})};return(0,d.jsxs)("form",{className:c,onSubmit:function(e){return Q(e,a)},children:["register"===a?(0,d.jsxs)("label",{className:f,children:["Name",(0,d.jsx)("input",{className:m,type:"text",name:"name",required:!0,autoComplete:"off",onChange:B,value:h})]}):null,(0,d.jsxs)("label",{className:f,children:["Email",(0,d.jsx)("input",{className:m,type:"email",name:"email",required:!0,autoComplete:"off",onChange:B,value:w})]}),(0,d.jsxs)("label",{className:f,children:["Password",(0,d.jsx)("input",{className:m,type:"password",name:"password",required:!0,autoComplete:"off",onChange:B,value:N})]}),(0,d.jsx)(i.Z,{type:"submit",label:"register"===a?"Sign Up":"Log In",onClick:function(e){return Q(e,a)}})]})}},5643:function(e,a,t){t.r(a);var n=t(6615),s=t(184);a.default=function(){return(0,s.jsx)(n.Z,{type:"register"})}}}]);
//# sourceMappingURL=Register.4f3cf39c.chunk.js.map